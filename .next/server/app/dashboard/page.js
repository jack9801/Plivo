(()=>{var e={};e.id=7702,e.ids=[7702],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},32081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},44361:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>h,pages:()=>c,routeModule:()=>x,tree:()=>d});var s=r(50482),a=r(69108),i=r(62563),n=r.n(i),o=r(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,79865)),"C:\\Pliv\\app\\dashboard\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,96339)),"C:\\Pliv\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,9378)),"C:\\Pliv\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Pliv\\app\\dashboard\\page.tsx"],h="/dashboard/page",u={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},76548:(e,t,r)=>{Promise.resolve().then(r.bind(r,5476))},5476:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(95344),a=r(3729),i=r(56506);function n(){let[e,t]=(0,a.useState)(!0),[r,n]=(0,a.useState)(!1),[o,l]=(0,a.useState)(null),[d,c]=(0,a.useState)([]),[h,u]=(0,a.useState)([]),[x,p]=(0,a.useState)([]),[m,g]=(0,a.useState)({name:"Loading..."});if((0,a.useEffect)(()=>{let e=window.location.hostname.includes("vercel.app");n(e),(async()=>{try{let r="";try{let t=await fetch("/api/auth/me");if(t.ok){let s=await t.json();!s.user||(l(s.user),(r=s.user.organizationId||"")||!e||(r="demo-admin-org"))}}catch(t){console.error("Error fetching user:",t),e&&(r="demo-admin-org")}if(!r)try{let e=await fetch("/api/organizations");if(e.ok){let t=await e.json();t&&t.length>0&&(r=t[0].id,g({name:t[0].name}))}}catch(e){console.error("Error fetching organizations:",e)}if(r){console.log("Fetching data for organization:",r);try{let e=await fetch(`/api/organizations/${r}`);if(e.ok){let t=await e.json();g(t)}}catch(e){console.error("Error fetching organization details:",e)}try{let e=await fetch(`/api/services?organizationId=${r}`);if(e.ok){let t=await e.json();c(t)}}catch(e){console.error("Error fetching services:",e)}try{let e=await fetch(`/api/incidents?organizationId=${r}`);if(e.ok){let t=await e.json();u(t);let r=t.filter(e=>"RESOLVED"!==e.status&&"COMPLETED"!==e.status);p(r)}}catch(e){console.error("Error fetching incidents:",e)}}t(!1)}catch(e){console.error("Error loading dashboard data:",e),t(!1)}})()},[]),e)return s.jsx("div",{className:"flex h-screen items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Loading Dashboard..."}),s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"})]})});let b=d.filter(e=>"OPERATIONAL"===e.status).length;return(0,s.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[r&&(0,s.jsxs)("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-800 p-4 rounded mb-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:"\uD83D\uDE80 Demo Mode Active"}),s.jsx("p",{children:"You're viewing the demo version of the Status Page application."}),s.jsx("p",{className:"mt-2",children:"Some features might be limited, but you can explore the UI and functionality."})]}),(0,s.jsxs)("h1",{className:"text-3xl font-bold mb-6",children:[m.name||"Dashboard"," Overview"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Services"}),s.jsx("div",{className:"text-4xl font-bold text-primary",children:d.length}),s.jsx("p",{className:"text-gray-500 mt-2",children:b===d.length?"All services operational":`${b}/${d.length} operational`}),s.jsx(i.default,{href:"/dashboard/services",className:"text-primary hover:underline mt-4 inline-block",children:"Manage Services →"})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Incidents"}),s.jsx("div",{className:`text-4xl font-bold ${x.length>0?"text-yellow-500":"text-green-500"}`,children:x.length}),s.jsx("p",{className:"text-gray-500 mt-2",children:0===x.length?"No active incidents":1===x.length?"1 active incident":`${x.length} active incidents`}),s.jsx(i.default,{href:"/dashboard/incidents",className:"text-primary hover:underline mt-4 inline-block",children:"View Incidents →"})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Organization"}),s.jsx("div",{className:"text-4xl font-bold text-primary",children:m.name?.charAt(0)||"?"}),s.jsx("p",{className:"text-gray-500 mt-2",children:m.name||"Your Organization"}),s.jsx(i.default,{href:"/dashboard/organizations",className:"text-primary hover:underline mt-4 inline-block",children:"Manage Organization →"})]})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Recent Activity"}),h.length>0?s.jsx("ul",{className:"divide-y",children:h.slice(0,3).map(e=>(0,s.jsxs)("li",{className:"py-3",children:[s.jsx("span",{className:"text-gray-500 mr-2",children:new Date(e.createdAt).toLocaleString()}),s.jsx("span",{className:"font-medium",children:e.title}),s.jsx("span",{className:`ml-2 px-2 py-1 text-xs rounded-full 
                  ${"RESOLVED"===e.status?"bg-green-100 text-green-800":"INVESTIGATING"===e.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:e.status})]},e.id))}):s.jsx("p",{className:"text-gray-500",children:"No incidents reported yet."})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Quick Actions"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(i.default,{href:"/dashboard/incidents/new",className:"bg-primary text-white p-3 rounded-md text-center hover:bg-primary/90 transition-colors",children:"Create Incident"}),s.jsx(i.default,{href:"/dashboard/services/new",className:"bg-green-600 text-white p-3 rounded-md text-center hover:bg-green-700 transition-colors",children:"Add Service"}),s.jsx(i.default,{href:"/status",className:"bg-blue-600 text-white p-3 rounded-md text-center hover:bg-blue-700 transition-colors",children:"View Status Page"})]})]})]})}},84292:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(97075).Z)("box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},13012:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(97075).Z)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]])},89486:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(97075).Z)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},48120:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(97075).Z)("log-out",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},65719:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(97075).Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},8428:(e,t,r)=>{"use strict";var s=r(14767);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},79865:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>n});let s=(0,r(86843).createProxy)(String.raw`C:\Pliv\app\dashboard\page.tsx`),{__esModule:a,$$typeof:i}=s,n=s.default}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[1638,7431,6506,1748],()=>r(44361));module.exports=s})();