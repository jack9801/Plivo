"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/auth/signin/route";
exports.ids = ["app/api/auth/signin/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fsignin%2Froute&page=%2Fapi%2Fauth%2Fsignin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fsignin%2Froute.ts&appDir=C%3A%5CPliv%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CPliv&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fsignin%2Froute&page=%2Fapi%2Fauth%2Fsignin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fsignin%2Froute.ts&appDir=C%3A%5CPliv%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CPliv&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Pliv_app_api_auth_signin_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/auth/signin/route.ts */ \"(rsc)/./app/api/auth/signin/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/auth/signin/route\",\n        pathname: \"/api/auth/signin\",\n        filename: \"route\",\n        bundlePath: \"app/api/auth/signin/route\"\n    },\n    resolvedPagePath: \"C:\\\\Pliv\\\\app\\\\api\\\\auth\\\\signin\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Pliv_app_api_auth_signin_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/auth/signin/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhdXRoJTJGc2lnbmluJTJGcm91dGUmcGFnZT0lMkZhcGklMkZhdXRoJTJGc2lnbmluJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYXV0aCUyRnNpZ25pbiUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDUGxpdiU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1BsaXYmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDTjtBQUN2RTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzZKOztBQUU3SiIsInNvdXJjZXMiOlsid2VicGFjazovL3N0YXR1cy1wYWdlLWZyZXNoLz8xOTUwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFBsaXZcXFxcYXBwXFxcXGFwaVxcXFxhdXRoXFxcXHNpZ25pblxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYXV0aC9zaWduaW4vcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hdXRoL3NpZ25pblwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYXV0aC9zaWduaW4vcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxQbGl2XFxcXGFwcFxcXFxhcGlcXFxcYXV0aFxcXFxzaWduaW5cXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvYXV0aC9zaWduaW4vcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0LCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fsignin%2Froute&page=%2Fapi%2Fauth%2Fsignin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fsignin%2Froute.ts&appDir=C%3A%5CPliv%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CPliv&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/auth/signin/route.ts":
/*!**************************************!*\
  !*** ./app/api/auth/signin/route.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   dynamic: () => (/* binding */ dynamic)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.ts\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./lib/auth.ts\");\n\n\n\n\n\nconst dynamic = \"force-dynamic\";\n// Demo user credentials - these will work even without a database connection\nconst DEMO_USERS = [\n    {\n        id: \"demo-admin-id\",\n        email: \"admin@example.com\",\n        password: \"password123\",\n        name: \"Admin User\",\n        role: \"ADMIN\"\n    },\n    {\n        id: \"demo-user-id\",\n        email: \"user@example.com\",\n        password: \"password123\",\n        name: \"Demo User\",\n        role: \"USER\"\n    }\n];\nasync function POST(request) {\n    try {\n        console.log(\"[Sign In] API called\");\n        // Check environment mode\n        console.log(`[Sign In] Environment: ${\"development\"}`);\n        console.log(`[Sign In] App URL: ${\"http://localhost:3000\"}`);\n        // Safety check for request body\n        let body;\n        try {\n            body = await request.json();\n        } catch (jsonError) {\n            console.error(\"[Sign In] Invalid JSON in request body:\", jsonError);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Invalid request format\",\n                success: false\n            }, {\n                status: 400\n            });\n        }\n        const { email, password } = body;\n        // Log attempt with partial email for privacy\n        const emailPrefix = email ? email.split(\"@\")[0].substring(0, 3) + \"***\" : \"undefined\";\n        console.log(`[Sign In] Attempt for email: ${emailPrefix}@...`);\n        // Check for demo users first\n        const demoUser = DEMO_USERS.find((u)=>u.email === email && u.password === password);\n        if (demoUser) {\n            console.log(`[Sign In] Demo user authenticated: ${emailPrefix}@...`);\n            // Create token for demo user\n            const token = (0,_lib_auth__WEBPACK_IMPORTED_MODULE_4__.createToken)({\n                userId: demoUser.id,\n                email: demoUser.email\n            });\n            // Set auth cookie\n            (0,next_headers__WEBPACK_IMPORTED_MODULE_3__.cookies)().set({\n                name: \"__clerk_db_jwt\",\n                value: token,\n                httpOnly: true,\n                path: \"/\",\n                secure: \"development\" === \"production\",\n                maxAge: 60 * 60 * 24 * 7,\n                sameSite: \"lax\"\n            });\n            // Return user without password\n            const { password: _, ...userWithoutPassword } = demoUser;\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                user: userWithoutPassword,\n                success: true,\n                demoMode: true\n            });\n        }\n        // Check database connection with enhanced error info\n        let dbConnectResult = false;\n        let dbErrorMessage = \"\";\n        try {\n            console.log(\"[Sign In] Checking database connection...\");\n            console.log(`[Sign In] Database URL Pattern: ${process.env.DATABASE_URL ? process.env.DATABASE_URL.split(\"@\")[0].substring(0, 12) + \"...\" : \"Not configured\"}`);\n            await _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.$queryRaw`SELECT 1`;\n            dbConnectResult = true;\n            console.log(\"[Sign In] Database connection confirmed\");\n        } catch (dbConnError) {\n            dbErrorMessage = dbConnError?.message || \"Unknown database error\";\n            console.error(\"[Sign In] Database connection failed:\", dbConnError);\n            console.error(`[Sign In] Database error details: ${dbErrorMessage}`);\n            // If database connection fails, suggest using demo accounts\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Database connection failed. Please use demo account: admin@example.com / password123\",\n                details: dbErrorMessage,\n                demoMode: true,\n                success: false\n            }, {\n                status: 503\n            });\n        }\n        // Validate required fields\n        if (!email || !password) {\n            console.log(\"[Sign In] Missing email or password\");\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Email and password are required\",\n                success: false\n            }, {\n                status: 400\n            });\n        }\n        // Find the user\n        try {\n            const user = await _lib_db__WEBPACK_IMPORTED_MODULE_1__.prisma.user.findUnique({\n                where: {\n                    email\n                }\n            });\n            // If user doesn't exist\n            if (!user) {\n                console.log(`[Sign In] User not found: ${emailPrefix}@...`);\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    error: \"Invalid email or password\",\n                    success: false\n                }, {\n                    status: 401\n                });\n            }\n            console.log(`[Sign In] User found: ${emailPrefix}@..., verifying password`);\n            // Verify password\n            try {\n                const isPasswordValid = await bcryptjs__WEBPACK_IMPORTED_MODULE_2__.compare(password, user.password);\n                if (!isPasswordValid) {\n                    console.log(`[Sign In] Invalid password for: ${emailPrefix}@...`);\n                    return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                        error: \"Invalid email or password\",\n                        success: false\n                    }, {\n                        status: 401\n                    });\n                }\n                console.log(`[Sign In] Password valid for: ${emailPrefix}@..., creating token`);\n                // Create a JWT token with user info\n                try {\n                    const token = (0,_lib_auth__WEBPACK_IMPORTED_MODULE_4__.createToken)({\n                        userId: user.id,\n                        email: user.email\n                    });\n                    console.log(`[Sign In] Token created for: ${emailPrefix}@..., setting cookie`);\n                    // Set auth cookie\n                    (0,next_headers__WEBPACK_IMPORTED_MODULE_3__.cookies)().set({\n                        name: \"__clerk_db_jwt\",\n                        value: token,\n                        httpOnly: true,\n                        path: \"/\",\n                        secure: \"development\" === \"production\",\n                        maxAge: 60 * 60 * 24 * 7,\n                        sameSite: \"lax\"\n                    });\n                    // Don't send the password back to the client\n                    const { password: _, ...userWithoutPassword } = user;\n                    console.log(`[Sign In] Success for: ${emailPrefix}@...`);\n                    return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                        user: userWithoutPassword,\n                        success: true\n                    });\n                } catch (tokenError) {\n                    console.error(`[Sign In] Token creation error for ${emailPrefix}@...`, tokenError);\n                    return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                        error: `Token creation failed: ${tokenError.message}`,\n                        success: false\n                    }, {\n                        status: 500\n                    });\n                }\n            } catch (passwordError) {\n                console.error(`[Sign In] Password comparison error for ${emailPrefix}@...`, passwordError);\n                return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                    error: `Authentication failed`,\n                    success: false\n                }, {\n                    status: 500\n                });\n            }\n        } catch (userError) {\n            console.error(`[Sign In] Database error for ${emailPrefix}@...`, userError);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: `Database operation failed. Try demo account: admin@example.com / password123`,\n                success: false,\n                demoMode: true\n            }, {\n                status: 500\n            });\n        }\n    } catch (error) {\n        console.error(\"Error authenticating user:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Authentication failed. Try demo account: admin@example.com / password123\",\n            details: error.message,\n            success: false,\n            demoMode: true\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDb0IsSUFBSSxDQUFDO3dCQUN2QkUsT0FBTyxDQUFDLHVCQUF1QixFQUFFLFdBQXNCMkIsT0FBTyxDQUFDLENBQUM7d0JBQ2hFMUIsU0FBUztvQkFDWCxHQUFHO3dCQUFFQyxRQUFRO29CQUFJO2dCQUNuQjtZQUNGLEVBQUUsT0FBT2dDLGVBQWU7Z0JBQ3RCMUMsUUFBUVEsS0FBSyxDQUFDLENBQUMsd0NBQXdDLEVBQUVHLFlBQVksSUFBSSxDQUFDLEVBQUUrQjtnQkFDNUUsT0FBT3hELGtGQUFZQSxDQUFDb0IsSUFBSSxDQUFDO29CQUN2QkUsT0FBTyxDQUFDLHFCQUFxQixDQUFDO29CQUM5QkMsU0FBUztnQkFDWCxHQUFHO29CQUFFQyxRQUFRO2dCQUFJO1lBQ25CO1FBQ0YsRUFBRSxPQUFPaUMsV0FBVztZQUNsQjNDLFFBQVFRLEtBQUssQ0FBQyxDQUFDLDZCQUE2QixFQUFFRyxZQUFZLElBQUksQ0FBQyxFQUFFZ0M7WUFDakUsT0FBT3pELGtGQUFZQSxDQUFDb0IsSUFBSSxDQUFDO2dCQUN2QkUsT0FBTyxDQUFDLDRFQUE0RSxDQUFDO2dCQUNyRkMsU0FBUztnQkFDVG9CLFVBQVU7WUFDWixHQUFHO2dCQUFFbkIsUUFBUTtZQUFJO1FBQ25CO0lBQ0YsRUFBRSxPQUFPRixPQUFPO1FBQ2RSLFFBQVFRLEtBQUssQ0FBQyw4QkFBOEJBO1FBQzVDLE9BQU90QixrRkFBWUEsQ0FBQ29CLElBQUksQ0FDdEI7WUFDRUUsT0FBTztZQUNQNEIsU0FBUyxNQUFpQkQsT0FBTztZQUNqQzFCLFNBQVM7WUFDVG9CLFVBQVU7UUFDWixHQUNBO1lBQUVuQixRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3N0YXR1cy1wYWdlLWZyZXNoLy4vYXBwL2FwaS9hdXRoL3NpZ25pbi9yb3V0ZS50cz9hZmJkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xyXG5pbXBvcnQgeyBwcmlzbWEgfSBmcm9tIFwiQC9saWIvZGJcIjtcclxuaW1wb3J0ICogYXMgYmNyeXB0IGZyb20gXCJiY3J5cHRqc1wiO1xyXG5pbXBvcnQgeyBjb29raWVzIH0gZnJvbSBcIm5leHQvaGVhZGVyc1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVUb2tlbiB9IGZyb20gXCJAL2xpYi9hdXRoXCI7XHJcblxyXG5leHBvcnQgY29uc3QgZHluYW1pYyA9ICdmb3JjZS1keW5hbWljJztcclxuXHJcbi8vIERlbW8gdXNlciBjcmVkZW50aWFscyAtIHRoZXNlIHdpbGwgd29yayBldmVuIHdpdGhvdXQgYSBkYXRhYmFzZSBjb25uZWN0aW9uXHJcbmNvbnN0IERFTU9fVVNFUlMgPSBbXHJcbiAge1xyXG4gICAgaWQ6ICdkZW1vLWFkbWluLWlkJyxcclxuICAgIGVtYWlsOiAnYWRtaW5AZXhhbXBsZS5jb20nLFxyXG4gICAgcGFzc3dvcmQ6ICdwYXNzd29yZDEyMycsXHJcbiAgICBuYW1lOiAnQWRtaW4gVXNlcicsXHJcbiAgICByb2xlOiAnQURNSU4nXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogJ2RlbW8tdXNlci1pZCcsXHJcbiAgICBlbWFpbDogJ3VzZXJAZXhhbXBsZS5jb20nLFxyXG4gICAgcGFzc3dvcmQ6ICdwYXNzd29yZDEyMycsXHJcbiAgICBuYW1lOiAnRGVtbyBVc2VyJyxcclxuICAgIHJvbGU6ICdVU0VSJ1xyXG4gIH1cclxuXTtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2coXCJbU2lnbiBJbl0gQVBJIGNhbGxlZFwiKTtcclxuICAgIFxyXG4gICAgLy8gQ2hlY2sgZW52aXJvbm1lbnQgbW9kZVxyXG4gICAgY29uc29sZS5sb2coYFtTaWduIEluXSBFbnZpcm9ubWVudDogJHtwcm9jZXNzLmVudi5OT0RFX0VOVn1gKTtcclxuICAgIGNvbnNvbGUubG9nKGBbU2lnbiBJbl0gQXBwIFVSTDogJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUFBfVVJMfWApO1xyXG4gICAgXHJcbiAgICAvLyBTYWZldHkgY2hlY2sgZm9yIHJlcXVlc3QgYm9keVxyXG4gICAgbGV0IGJvZHk7XHJcbiAgICB0cnkge1xyXG4gICAgICBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XHJcbiAgICB9IGNhdGNoIChqc29uRXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihcIltTaWduIEluXSBJbnZhbGlkIEpTT04gaW4gcmVxdWVzdCBib2R5OlwiLCBqc29uRXJyb3IpO1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBcclxuICAgICAgICBlcnJvcjogXCJJbnZhbGlkIHJlcXVlc3QgZm9ybWF0XCIsIFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlIFxyXG4gICAgICB9LCB7IHN0YXR1czogNDAwIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZW1haWwsIHBhc3N3b3JkIH0gPSBib2R5O1xyXG5cclxuICAgIC8vIExvZyBhdHRlbXB0IHdpdGggcGFydGlhbCBlbWFpbCBmb3IgcHJpdmFjeVxyXG4gICAgY29uc3QgZW1haWxQcmVmaXggPSBlbWFpbCA/IGVtYWlsLnNwbGl0KCdAJylbMF0uc3Vic3RyaW5nKDAsIDMpICsgXCIqKipcIiA6IFwidW5kZWZpbmVkXCI7XHJcbiAgICBjb25zb2xlLmxvZyhgW1NpZ24gSW5dIEF0dGVtcHQgZm9yIGVtYWlsOiAke2VtYWlsUHJlZml4fUAuLi5gKTtcclxuXHJcbiAgICAvLyBDaGVjayBmb3IgZGVtbyB1c2VycyBmaXJzdFxyXG4gICAgY29uc3QgZGVtb1VzZXIgPSBERU1PX1VTRVJTLmZpbmQodSA9PiB1LmVtYWlsID09PSBlbWFpbCAmJiB1LnBhc3N3b3JkID09PSBwYXNzd29yZCk7XHJcbiAgICBpZiAoZGVtb1VzZXIpIHtcclxuICAgICAgY29uc29sZS5sb2coYFtTaWduIEluXSBEZW1vIHVzZXIgYXV0aGVudGljYXRlZDogJHtlbWFpbFByZWZpeH1ALi4uYCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBDcmVhdGUgdG9rZW4gZm9yIGRlbW8gdXNlclxyXG4gICAgICBjb25zdCB0b2tlbiA9IGNyZWF0ZVRva2VuKHtcclxuICAgICAgICB1c2VySWQ6IGRlbW9Vc2VyLmlkLFxyXG4gICAgICAgIGVtYWlsOiBkZW1vVXNlci5lbWFpbFxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIC8vIFNldCBhdXRoIGNvb2tpZVxyXG4gICAgICBjb29raWVzKCkuc2V0KHtcclxuICAgICAgICBuYW1lOiBcIl9fY2xlcmtfZGJfand0XCIsXHJcbiAgICAgICAgdmFsdWU6IHRva2VuLFxyXG4gICAgICAgIGh0dHBPbmx5OiB0cnVlLFxyXG4gICAgICAgIHBhdGg6IFwiL1wiLFxyXG4gICAgICAgIHNlY3VyZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiLFxyXG4gICAgICAgIG1heEFnZTogNjAgKiA2MCAqIDI0ICogNywgLy8gMSB3ZWVrXHJcbiAgICAgICAgc2FtZVNpdGU6IFwibGF4XCJcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBSZXR1cm4gdXNlciB3aXRob3V0IHBhc3N3b3JkXHJcbiAgICAgIGNvbnN0IHsgcGFzc3dvcmQ6IF8sIC4uLnVzZXJXaXRob3V0UGFzc3dvcmQgfSA9IGRlbW9Vc2VyO1xyXG4gICAgICBcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgICB1c2VyOiB1c2VyV2l0aG91dFBhc3N3b3JkLFxyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgZGVtb01vZGU6IHRydWVcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hlY2sgZGF0YWJhc2UgY29ubmVjdGlvbiB3aXRoIGVuaGFuY2VkIGVycm9yIGluZm9cclxuICAgIGxldCBkYkNvbm5lY3RSZXN1bHQgPSBmYWxzZTtcclxuICAgIGxldCBkYkVycm9yTWVzc2FnZSA9IFwiXCI7XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiW1NpZ24gSW5dIENoZWNraW5nIGRhdGFiYXNlIGNvbm5lY3Rpb24uLi5cIik7XHJcbiAgICAgIGNvbnNvbGUubG9nKGBbU2lnbiBJbl0gRGF0YWJhc2UgVVJMIFBhdHRlcm46ICR7cHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMID8gXHJcbiAgICAgICAgcHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMLnNwbGl0KCdAJylbMF0uc3Vic3RyaW5nKDAsIDEyKSArICcuLi4nIDogXHJcbiAgICAgICAgJ05vdCBjb25maWd1cmVkJ31gKTtcclxuICAgICAgXHJcbiAgICAgIGF3YWl0IHByaXNtYS4kcXVlcnlSYXdgU0VMRUNUIDFgO1xyXG4gICAgICBkYkNvbm5lY3RSZXN1bHQgPSB0cnVlO1xyXG4gICAgICBjb25zb2xlLmxvZyhcIltTaWduIEluXSBEYXRhYmFzZSBjb25uZWN0aW9uIGNvbmZpcm1lZFwiKTtcclxuICAgIH0gY2F0Y2ggKGRiQ29ubkVycm9yOiBhbnkpIHtcclxuICAgICAgZGJFcnJvck1lc3NhZ2UgPSBkYkNvbm5FcnJvcj8ubWVzc2FnZSB8fCBcIlVua25vd24gZGF0YWJhc2UgZXJyb3JcIjtcclxuICAgICAgY29uc29sZS5lcnJvcihcIltTaWduIEluXSBEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZDpcIiwgZGJDb25uRXJyb3IpO1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBbU2lnbiBJbl0gRGF0YWJhc2UgZXJyb3IgZGV0YWlsczogJHtkYkVycm9yTWVzc2FnZX1gKTtcclxuICAgICAgXHJcbiAgICAgIC8vIElmIGRhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbHMsIHN1Z2dlc3QgdXNpbmcgZGVtbyBhY2NvdW50c1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBcclxuICAgICAgICBlcnJvcjogXCJEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZC4gUGxlYXNlIHVzZSBkZW1vIGFjY291bnQ6IGFkbWluQGV4YW1wbGUuY29tIC8gcGFzc3dvcmQxMjNcIiwgXHJcbiAgICAgICAgZGV0YWlsczogZGJFcnJvck1lc3NhZ2UsXHJcbiAgICAgICAgZGVtb01vZGU6IHRydWUsXHJcbiAgICAgICAgc3VjY2VzczogZmFsc2VcclxuICAgICAgfSwgeyBzdGF0dXM6IDUwMyB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBWYWxpZGF0ZSByZXF1aXJlZCBmaWVsZHNcclxuICAgIGlmICghZW1haWwgfHwgIXBhc3N3b3JkKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiW1NpZ24gSW5dIE1pc3NpbmcgZW1haWwgb3IgcGFzc3dvcmRcIik7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiBcIkVtYWlsIGFuZCBwYXNzd29yZCBhcmUgcmVxdWlyZWRcIiwgc3VjY2VzczogZmFsc2UgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gRmluZCB0aGUgdXNlclxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRVbmlxdWUoe1xyXG4gICAgICAgIHdoZXJlOiB7IGVtYWlsIH0sXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gSWYgdXNlciBkb2Vzbid0IGV4aXN0XHJcbiAgICAgIGlmICghdXNlcikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBbU2lnbiBJbl0gVXNlciBub3QgZm91bmQ6ICR7ZW1haWxQcmVmaXh9QC4uLmApO1xyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgIHsgZXJyb3I6IFwiSW52YWxpZCBlbWFpbCBvciBwYXNzd29yZFwiLCBzdWNjZXNzOiBmYWxzZSB9LFxyXG4gICAgICAgICAgeyBzdGF0dXM6IDQwMSB9XHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc29sZS5sb2coYFtTaWduIEluXSBVc2VyIGZvdW5kOiAke2VtYWlsUHJlZml4fUAuLi4sIHZlcmlmeWluZyBwYXNzd29yZGApO1xyXG5cclxuICAgICAgLy8gVmVyaWZ5IHBhc3N3b3JkXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgaXNQYXNzd29yZFZhbGlkID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpO1xyXG4gICAgICAgIGlmICghaXNQYXNzd29yZFZhbGlkKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhgW1NpZ24gSW5dIEludmFsaWQgcGFzc3dvcmQgZm9yOiAke2VtYWlsUHJlZml4fUAuLi5gKTtcclxuICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgICAgeyBlcnJvcjogXCJJbnZhbGlkIGVtYWlsIG9yIHBhc3N3b3JkXCIsIHN1Y2Nlc3M6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIHsgc3RhdHVzOiA0MDEgfVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKGBbU2lnbiBJbl0gUGFzc3dvcmQgdmFsaWQgZm9yOiAke2VtYWlsUHJlZml4fUAuLi4sIGNyZWF0aW5nIHRva2VuYCk7XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSBhIEpXVCB0b2tlbiB3aXRoIHVzZXIgaW5mb1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCB0b2tlbiA9IGNyZWF0ZVRva2VuKHtcclxuICAgICAgICAgICAgdXNlcklkOiB1c2VyLmlkLFxyXG4gICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGNvbnNvbGUubG9nKGBbU2lnbiBJbl0gVG9rZW4gY3JlYXRlZCBmb3I6ICR7ZW1haWxQcmVmaXh9QC4uLiwgc2V0dGluZyBjb29raWVgKTtcclxuXHJcbiAgICAgICAgICAvLyBTZXQgYXV0aCBjb29raWVcclxuICAgICAgICAgIGNvb2tpZXMoKS5zZXQoe1xyXG4gICAgICAgICAgICBuYW1lOiBcIl9fY2xlcmtfZGJfand0XCIsXHJcbiAgICAgICAgICAgIHZhbHVlOiB0b2tlbixcclxuICAgICAgICAgICAgaHR0cE9ubHk6IHRydWUsXHJcbiAgICAgICAgICAgIHBhdGg6IFwiL1wiLFxyXG4gICAgICAgICAgICBzZWN1cmU6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIixcclxuICAgICAgICAgICAgbWF4QWdlOiA2MCAqIDYwICogMjQgKiA3LCAvLyAxIHdlZWtcclxuICAgICAgICAgICAgc2FtZVNpdGU6IFwibGF4XCJcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIC8vIERvbid0IHNlbmQgdGhlIHBhc3N3b3JkIGJhY2sgdG8gdGhlIGNsaWVudFxyXG4gICAgICAgICAgY29uc3QgeyBwYXNzd29yZDogXywgLi4udXNlcldpdGhvdXRQYXNzd29yZCB9ID0gdXNlcjtcclxuXHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhgW1NpZ24gSW5dIFN1Y2Nlc3MgZm9yOiAke2VtYWlsUHJlZml4fUAuLi5gKTtcclxuXHJcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICAgICAgICB1c2VyOiB1c2VyV2l0aG91dFBhc3N3b3JkLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoICh0b2tlbkVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGBbU2lnbiBJbl0gVG9rZW4gY3JlYXRpb24gZXJyb3IgZm9yICR7ZW1haWxQcmVmaXh9QC4uLmAsIHRva2VuRXJyb3IpO1xyXG4gICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXHJcbiAgICAgICAgICAgIGVycm9yOiBgVG9rZW4gY3JlYXRpb24gZmFpbGVkOiAkeyh0b2tlbkVycm9yIGFzIEVycm9yKS5tZXNzYWdlfWAsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlXHJcbiAgICAgICAgICB9LCB7IHN0YXR1czogNTAwIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAocGFzc3dvcmRFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFtTaWduIEluXSBQYXNzd29yZCBjb21wYXJpc29uIGVycm9yIGZvciAke2VtYWlsUHJlZml4fUAuLi5gLCBwYXNzd29yZEVycm9yKTtcclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBcclxuICAgICAgICAgIGVycm9yOiBgQXV0aGVudGljYXRpb24gZmFpbGVkYCxcclxuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlXHJcbiAgICAgICAgfSwgeyBzdGF0dXM6IDUwMCB9KTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAodXNlckVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFtTaWduIEluXSBEYXRhYmFzZSBlcnJvciBmb3IgJHtlbWFpbFByZWZpeH1ALi4uYCwgdXNlckVycm9yKTtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXHJcbiAgICAgICAgZXJyb3I6IGBEYXRhYmFzZSBvcGVyYXRpb24gZmFpbGVkLiBUcnkgZGVtbyBhY2NvdW50OiBhZG1pbkBleGFtcGxlLmNvbSAvIHBhc3N3b3JkMTIzYCxcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBkZW1vTW9kZTogdHJ1ZVxyXG4gICAgICB9LCB7IHN0YXR1czogNTAwIH0pO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgYXV0aGVudGljYXRpbmcgdXNlcjpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IFxyXG4gICAgICAgIGVycm9yOiBcIkF1dGhlbnRpY2F0aW9uIGZhaWxlZC4gVHJ5IGRlbW8gYWNjb3VudDogYWRtaW5AZXhhbXBsZS5jb20gLyBwYXNzd29yZDEyM1wiLCBcclxuICAgICAgICBkZXRhaWxzOiAoZXJyb3IgYXMgRXJyb3IpLm1lc3NhZ2UsIFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIGRlbW9Nb2RlOiB0cnVlIFxyXG4gICAgICB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICk7XHJcbiAgfVxyXG59ICJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJwcmlzbWEiLCJiY3J5cHQiLCJjb29raWVzIiwiY3JlYXRlVG9rZW4iLCJkeW5hbWljIiwiREVNT19VU0VSUyIsImlkIiwiZW1haWwiLCJwYXNzd29yZCIsIm5hbWUiLCJyb2xlIiwiUE9TVCIsInJlcXVlc3QiLCJjb25zb2xlIiwibG9nIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQUF9VUkwiLCJib2R5IiwianNvbiIsImpzb25FcnJvciIsImVycm9yIiwic3VjY2VzcyIsInN0YXR1cyIsImVtYWlsUHJlZml4Iiwic3BsaXQiLCJzdWJzdHJpbmciLCJkZW1vVXNlciIsImZpbmQiLCJ1IiwidG9rZW4iLCJ1c2VySWQiLCJzZXQiLCJ2YWx1ZSIsImh0dHBPbmx5IiwicGF0aCIsInNlY3VyZSIsIm1heEFnZSIsInNhbWVTaXRlIiwiXyIsInVzZXJXaXRob3V0UGFzc3dvcmQiLCJ1c2VyIiwiZGVtb01vZGUiLCJkYkNvbm5lY3RSZXN1bHQiLCJkYkVycm9yTWVzc2FnZSIsIkRBVEFCQVNFX1VSTCIsIiRxdWVyeVJhdyIsImRiQ29ubkVycm9yIiwibWVzc2FnZSIsImRldGFpbHMiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJpc1Bhc3N3b3JkVmFsaWQiLCJjb21wYXJlIiwidG9rZW5FcnJvciIsInBhc3N3b3JkRXJyb3IiLCJ1c2VyRXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/auth/signin/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createToken: () => (/* binding */ createToken),\n/* harmony export */   getCurrentUser: () => (/* binding */ getCurrentUser),\n/* harmony export */   verifyToken: () => (/* binding */ verifyToken)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"(rsc)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);\n\n// Get the appropriate secret key\nfunction getSecretKey() {\n    const key = process.env.CLERK_SECRET_KEY || process.env.JWT_SECRET || \"fallback-secret-key-change-me\";\n    if (key === \"fallback-secret-key-change-me\") {\n        console.warn(\"WARNING: Using fallback secret key. Set CLERK_SECRET_KEY or JWT_SECRET environment variable.\");\n    }\n    return key;\n}\n// Create a JWT token\nfunction createToken(payload) {\n    const secretKey = getSecretKey();\n    try {\n        console.log(`Creating token for user: ${payload.userId}`);\n        const token = (0,jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__.sign)(payload, secretKey, {\n            expiresIn: \"7d\"\n        });\n        // Verify that the token is valid right after creation (sanity check)\n        try {\n            const decoded = (0,jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__.verify)(token, secretKey);\n            console.log(`Token created and verified successfully for user: ${payload.userId}`);\n            return token;\n        } catch (verifyError) {\n            console.error(\"Token verification after creation failed:\", verifyError);\n            throw verifyError;\n        }\n    } catch (error) {\n        console.error(\"Token creation failed:\", error);\n        throw error;\n    }\n}\n// Verify a JWT token\nfunction verifyToken(token) {\n    try {\n        console.log(\"Verifying token...\");\n        const secretKey = getSecretKey();\n        const decoded = (0,jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__.verify)(token, secretKey);\n        console.log(`Token verified successfully for user: ${decoded.userId}`);\n        return decoded;\n    } catch (error) {\n        console.error(\"Error verifying token:\", error);\n        return null;\n    }\n}\n// Get current user from token\nasync function getCurrentUser(token) {\n    const payload = verifyToken(token);\n    if (!payload) return null;\n    // If needed, you can fetch more user data from the database here\n    return {\n        id: payload.userId,\n        email: payload.email\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXV0aC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUF3RDtBQVF4RCxpQ0FBaUM7QUFDakMsU0FBU0U7SUFDUCxNQUFNQyxNQUFNQyxRQUFRQyxHQUFHLENBQUNDLGdCQUFnQixJQUFJRixRQUFRQyxHQUFHLENBQUNFLFVBQVUsSUFBSTtJQUV0RSxJQUFJSixRQUFRLGlDQUFpQztRQUMzQ0ssUUFBUUMsSUFBSSxDQUFDO0lBQ2Y7SUFFQSxPQUFPTjtBQUNUO0FBRUEscUJBQXFCO0FBQ2QsU0FBU08sWUFBWUMsT0FBNEM7SUFDdEUsTUFBTUMsWUFBWVY7SUFFbEIsSUFBSTtRQUNGTSxRQUFRSyxHQUFHLENBQUMsQ0FBQyx5QkFBeUIsRUFBRUYsUUFBUUcsTUFBTSxDQUFDLENBQUM7UUFDeEQsTUFBTUMsUUFBUWQsa0RBQUlBLENBQ2hCVSxTQUNBQyxXQUNBO1lBQUVJLFdBQVc7UUFBSztRQUdwQixxRUFBcUU7UUFDckUsSUFBSTtZQUNGLE1BQU1DLFVBQVVqQixvREFBTUEsQ0FBQ2UsT0FBT0g7WUFDOUJKLFFBQVFLLEdBQUcsQ0FBQyxDQUFDLGtEQUFrRCxFQUFFRixRQUFRRyxNQUFNLENBQUMsQ0FBQztZQUNqRixPQUFPQztRQUNULEVBQUUsT0FBT0csYUFBYTtZQUNwQlYsUUFBUVcsS0FBSyxDQUFDLDZDQUE2Q0Q7WUFDM0QsTUFBTUE7UUFDUjtJQUNGLEVBQUUsT0FBT0MsT0FBTztRQUNkWCxRQUFRVyxLQUFLLENBQUMsMEJBQTBCQTtRQUN4QyxNQUFNQTtJQUNSO0FBQ0Y7QUFFQSxxQkFBcUI7QUFDZCxTQUFTQyxZQUFZTCxLQUFhO0lBQ3ZDLElBQUk7UUFDRlAsUUFBUUssR0FBRyxDQUFDO1FBQ1osTUFBTUQsWUFBWVY7UUFDbEIsTUFBTWUsVUFBVWpCLG9EQUFNQSxDQUNwQmUsT0FDQUg7UUFHRkosUUFBUUssR0FBRyxDQUFDLENBQUMsc0NBQXNDLEVBQUVJLFFBQVFILE1BQU0sQ0FBQyxDQUFDO1FBQ3JFLE9BQU9HO0lBQ1QsRUFBRSxPQUFPRSxPQUFPO1FBQ2RYLFFBQVFXLEtBQUssQ0FBQywwQkFBMEJBO1FBQ3hDLE9BQU87SUFDVDtBQUNGO0FBRUEsOEJBQThCO0FBQ3ZCLGVBQWVFLGVBQWVOLEtBQWE7SUFDaEQsTUFBTUosVUFBVVMsWUFBWUw7SUFDNUIsSUFBSSxDQUFDSixTQUFTLE9BQU87SUFFckIsaUVBQWlFO0lBQ2pFLE9BQU87UUFDTFcsSUFBSVgsUUFBUUcsTUFBTTtRQUNsQlMsT0FBT1osUUFBUVksS0FBSztJQUN0QjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3RhdHVzLXBhZ2UtZnJlc2gvLi9saWIvYXV0aC50cz9iZjdlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHZlcmlmeSwgc2lnbiwgSnd0UGF5bG9hZCB9IGZyb20gJ2pzb253ZWJ0b2tlbic7XHJcblxyXG4vLyBJbnRlcmZhY2UgZm9yIEpXVCBwYXlsb2FkXHJcbmV4cG9ydCBpbnRlcmZhY2UgVXNlckp3dFBheWxvYWQgZXh0ZW5kcyBKd3RQYXlsb2FkIHtcclxuICB1c2VySWQ6IHN0cmluZztcclxuICBlbWFpbDogc3RyaW5nO1xyXG59XHJcblxyXG4vLyBHZXQgdGhlIGFwcHJvcHJpYXRlIHNlY3JldCBrZXlcclxuZnVuY3Rpb24gZ2V0U2VjcmV0S2V5KCk6IHN0cmluZyB7XHJcbiAgY29uc3Qga2V5ID0gcHJvY2Vzcy5lbnYuQ0xFUktfU0VDUkVUX0tFWSB8fCBwcm9jZXNzLmVudi5KV1RfU0VDUkVUIHx8ICdmYWxsYmFjay1zZWNyZXQta2V5LWNoYW5nZS1tZSc7XHJcbiAgXHJcbiAgaWYgKGtleSA9PT0gJ2ZhbGxiYWNrLXNlY3JldC1rZXktY2hhbmdlLW1lJykge1xyXG4gICAgY29uc29sZS53YXJuKCdXQVJOSU5HOiBVc2luZyBmYWxsYmFjayBzZWNyZXQga2V5LiBTZXQgQ0xFUktfU0VDUkVUX0tFWSBvciBKV1RfU0VDUkVUIGVudmlyb25tZW50IHZhcmlhYmxlLicpO1xyXG4gIH1cclxuICBcclxuICByZXR1cm4ga2V5O1xyXG59XHJcblxyXG4vLyBDcmVhdGUgYSBKV1QgdG9rZW5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRva2VuKHBheWxvYWQ6IE9taXQ8VXNlckp3dFBheWxvYWQsICdpYXQnIHwgJ2V4cCc+KTogc3RyaW5nIHtcclxuICBjb25zdCBzZWNyZXRLZXkgPSBnZXRTZWNyZXRLZXkoKTtcclxuICBcclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2coYENyZWF0aW5nIHRva2VuIGZvciB1c2VyOiAke3BheWxvYWQudXNlcklkfWApO1xyXG4gICAgY29uc3QgdG9rZW4gPSBzaWduKFxyXG4gICAgICBwYXlsb2FkLFxyXG4gICAgICBzZWNyZXRLZXksXHJcbiAgICAgIHsgZXhwaXJlc0luOiAnN2QnIH1cclxuICAgICk7XHJcbiAgICBcclxuICAgIC8vIFZlcmlmeSB0aGF0IHRoZSB0b2tlbiBpcyB2YWxpZCByaWdodCBhZnRlciBjcmVhdGlvbiAoc2FuaXR5IGNoZWNrKVxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgZGVjb2RlZCA9IHZlcmlmeSh0b2tlbiwgc2VjcmV0S2V5KSBhcyBVc2VySnd0UGF5bG9hZDtcclxuICAgICAgY29uc29sZS5sb2coYFRva2VuIGNyZWF0ZWQgYW5kIHZlcmlmaWVkIHN1Y2Nlc3NmdWxseSBmb3IgdXNlcjogJHtwYXlsb2FkLnVzZXJJZH1gKTtcclxuICAgICAgcmV0dXJuIHRva2VuO1xyXG4gICAgfSBjYXRjaCAodmVyaWZ5RXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignVG9rZW4gdmVyaWZpY2F0aW9uIGFmdGVyIGNyZWF0aW9uIGZhaWxlZDonLCB2ZXJpZnlFcnJvcik7XHJcbiAgICAgIHRocm93IHZlcmlmeUVycm9yO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdUb2tlbiBjcmVhdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBWZXJpZnkgYSBKV1QgdG9rZW5cclxuZXhwb3J0IGZ1bmN0aW9uIHZlcmlmeVRva2VuKHRva2VuOiBzdHJpbmcpOiBVc2VySnd0UGF5bG9hZCB8IG51bGwge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zb2xlLmxvZygnVmVyaWZ5aW5nIHRva2VuLi4uJyk7XHJcbiAgICBjb25zdCBzZWNyZXRLZXkgPSBnZXRTZWNyZXRLZXkoKTtcclxuICAgIGNvbnN0IGRlY29kZWQgPSB2ZXJpZnkoXHJcbiAgICAgIHRva2VuLCBcclxuICAgICAgc2VjcmV0S2V5XHJcbiAgICApIGFzIFVzZXJKd3RQYXlsb2FkO1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZyhgVG9rZW4gdmVyaWZpZWQgc3VjY2Vzc2Z1bGx5IGZvciB1c2VyOiAke2RlY29kZWQudXNlcklkfWApO1xyXG4gICAgcmV0dXJuIGRlY29kZWQ7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHZlcmlmeWluZyB0b2tlbjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn1cclxuXHJcbi8vIEdldCBjdXJyZW50IHVzZXIgZnJvbSB0b2tlblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q3VycmVudFVzZXIodG9rZW46IHN0cmluZykge1xyXG4gIGNvbnN0IHBheWxvYWQgPSB2ZXJpZnlUb2tlbih0b2tlbik7XHJcbiAgaWYgKCFwYXlsb2FkKSByZXR1cm4gbnVsbDtcclxuICBcclxuICAvLyBJZiBuZWVkZWQsIHlvdSBjYW4gZmV0Y2ggbW9yZSB1c2VyIGRhdGEgZnJvbSB0aGUgZGF0YWJhc2UgaGVyZVxyXG4gIHJldHVybiB7XHJcbiAgICBpZDogcGF5bG9hZC51c2VySWQsXHJcbiAgICBlbWFpbDogcGF5bG9hZC5lbWFpbFxyXG4gIH07XHJcbn0gIl0sIm5hbWVzIjpbInZlcmlmeSIsInNpZ24iLCJnZXRTZWNyZXRLZXkiLCJrZXkiLCJwcm9jZXNzIiwiZW52IiwiQ0xFUktfU0VDUkVUX0tFWSIsIkpXVF9TRUNSRVQiLCJjb25zb2xlIiwid2FybiIsImNyZWF0ZVRva2VuIiwicGF5bG9hZCIsInNlY3JldEtleSIsImxvZyIsInVzZXJJZCIsInRva2VuIiwiZXhwaXJlc0luIiwiZGVjb2RlZCIsInZlcmlmeUVycm9yIiwiZXJyb3IiLCJ2ZXJpZnlUb2tlbiIsImdldEN1cnJlbnRVc2VyIiwiaWQiLCJlbWFpbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db.ts":
/*!*******************!*\
  !*** ./lib/db.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkDatabaseConnection: () => (/* binding */ checkDatabaseConnection),\n/* harmony export */   prisma: () => (/* binding */ prisma),\n/* harmony export */   withDatabase: () => (/* binding */ withDatabase)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\n// Check for .vercel-build marker file which indicates we're in a Vercel build\nconst isVercelBuild = (()=>{\n    try {\n        // During build time, we've created a marker file\n        if (typeof process !== \"undefined\" && process.env.VERCEL === \"1\") {\n            return true;\n        }\n        return false;\n    } catch (e) {\n        return false;\n    }\n})();\n// Determine if we are in a static generation context (during build time)\nconst isStaticGeneration = process.env.NEXT_PHASE === \"phase-production-build\" || process.env.VERCEL && process.env.NEXT_PUBLIC_VERCEL_ENV === \"production\" ||  false && (0);\n// Use a consistent type for both configurations\nconst prodConfig = {\n    log: [\n        \"error\"\n    ],\n    errorFormat: \"minimal\"\n};\nconst devConfig = {\n    log:  true ? [\n        \"query\",\n        \"error\",\n        \"warn\"\n    ] : 0,\n    errorFormat: \"pretty\"\n};\n// Connection options with proper typing\nconst connectionOptions =  false ? 0 : devConfig;\n// Create a mock client or real client based on environment\nconst createPrismaClient = ()=>{\n    if (isStaticGeneration) {\n        console.log(\"Static generation detected, using mock database client\");\n        // Return a mock Prisma client for static generation\n        return new Proxy({}, {\n            get: (target, prop)=>{\n                if (prop === \"$connect\" || prop === \"$disconnect\") {\n                    return async ()=>{};\n                }\n                // Create a deeper proxy for method chains\n                return ()=>{\n                    // Return a chainable proxy that resolves to empty results\n                    return new Proxy({}, {\n                        get: ()=>()=>Promise.resolve([]),\n                        apply: ()=>Promise.resolve([])\n                    });\n                };\n            }\n        });\n    }\n    try {\n        // Use a real Prisma client for runtime\n        console.log(\"Creating Prisma client for runtime with DATABASE_URL:\", process.env.DATABASE_URL ? process.env.DATABASE_URL.substring(0, process.env.DATABASE_URL.indexOf(\"@\")) + \"****\" : \"undefined\");\n        return new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient(connectionOptions);\n    } catch (e) {\n        console.error(\"Error creating Prisma client:\", e);\n        throw e;\n    }\n};\n// Create or reuse the prisma client\nconst prisma = global.prisma || createPrismaClient();\n// Only set the global prisma client in development to prevent memory leaks\nif (true) global.prisma = prisma;\n// Helper function to check database connection\nasync function checkDatabaseConnection() {\n    try {\n        if (isStaticGeneration) {\n            console.log(\"Static generation detected, skipping database connection check\");\n            return true;\n        }\n        console.log(\"Checking database connection...\");\n        await prisma.$connect();\n        console.log(\"Database connection successful\");\n        return true;\n    } catch (error) {\n        console.error(\"Database connection error:\", error);\n        return false;\n    }\n}\n// Helper to gracefully handle database operations in API routes\nasync function withDatabase(operation, fallback) {\n    try {\n        // If we're in a static generation context, return fallback\n        if (isStaticGeneration) {\n            console.log(\"Static generation detected, returning fallback data\");\n            return fallback;\n        }\n        // If we're in a runtime context, try the operation\n        return await operation();\n    } catch (error) {\n        console.error(\"Database operation failed:\", error);\n        return fallback;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFNRDtJQUNmLEVBQUUsT0FBT04sT0FBTztRQUNkWCxRQUFRVyxLQUFLLENBQUMsOEJBQThCQTtRQUM1QyxPQUFPTztJQUNUO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdGF0dXMtcGFnZS1mcmVzaC8uL2xpYi9kYi50cz8xZGYwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByaXNtYUNsaWVudCwgUHJpc21hIH0gZnJvbSAnQHByaXNtYS9jbGllbnQnO1xyXG5cclxuZGVjbGFyZSBnbG9iYWwge1xyXG4gIHZhciBwcmlzbWE6IFByaXNtYUNsaWVudCB8IHVuZGVmaW5lZDtcclxufVxyXG5cclxuLy8gQ2hlY2sgZm9yIC52ZXJjZWwtYnVpbGQgbWFya2VyIGZpbGUgd2hpY2ggaW5kaWNhdGVzIHdlJ3JlIGluIGEgVmVyY2VsIGJ1aWxkXHJcbmNvbnN0IGlzVmVyY2VsQnVpbGQgPSAoKCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBEdXJpbmcgYnVpbGQgdGltZSwgd2UndmUgY3JlYXRlZCBhIG1hcmtlciBmaWxlXHJcbiAgICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHByb2Nlc3MuZW52LlZFUkNFTCA9PT0gJzEnKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbn0pKCk7XHJcblxyXG4vLyBEZXRlcm1pbmUgaWYgd2UgYXJlIGluIGEgc3RhdGljIGdlbmVyYXRpb24gY29udGV4dCAoZHVyaW5nIGJ1aWxkIHRpbWUpXHJcbmNvbnN0IGlzU3RhdGljR2VuZXJhdGlvbiA9IFxyXG4gIHByb2Nlc3MuZW52Lk5FWFRfUEhBU0UgPT09ICdwaGFzZS1wcm9kdWN0aW9uLWJ1aWxkJyB8fCBcclxuICAocHJvY2Vzcy5lbnYuVkVSQ0VMICYmIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1ZFUkNFTF9FTlYgPT09ICdwcm9kdWN0aW9uJykgfHxcclxuICBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nICYmIChwcm9jZXNzLmVudi5WRVJDRUxfRU5WIHx8IGlzVmVyY2VsQnVpbGQpO1xyXG5cclxuLy8gVXNlIGEgY29uc2lzdGVudCB0eXBlIGZvciBib3RoIGNvbmZpZ3VyYXRpb25zXHJcbmNvbnN0IHByb2RDb25maWc6IFByaXNtYS5QcmlzbWFDbGllbnRPcHRpb25zID0ge1xyXG4gIGxvZzogWydlcnJvciddIGFzIFByaXNtYS5Mb2dMZXZlbFtdLFxyXG4gIGVycm9yRm9ybWF0OiAnbWluaW1hbCcgYXMgUHJpc21hLkVycm9yRm9ybWF0LFxyXG59O1xyXG5cclxuY29uc3QgZGV2Q29uZmlnOiBQcmlzbWEuUHJpc21hQ2xpZW50T3B0aW9ucyA9IHtcclxuICBsb2c6IChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/IFsncXVlcnknLCAnZXJyb3InLCAnd2FybiddIDogWydlcnJvciddKSBhcyBQcmlzbWEuTG9nTGV2ZWxbXSxcclxuICBlcnJvckZvcm1hdDogJ3ByZXR0eScgYXMgUHJpc21hLkVycm9yRm9ybWF0LCAvLyBBZGQgZXJyb3JGb3JtYXQgZm9yIGRldiB0b29cclxufTtcclxuXHJcbi8vIENvbm5lY3Rpb24gb3B0aW9ucyB3aXRoIHByb3BlciB0eXBpbmdcclxuY29uc3QgY29ubmVjdGlvbk9wdGlvbnMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gcHJvZENvbmZpZyA6IGRldkNvbmZpZztcclxuXHJcbi8vIENyZWF0ZSBhIG1vY2sgY2xpZW50IG9yIHJlYWwgY2xpZW50IGJhc2VkIG9uIGVudmlyb25tZW50XHJcbmNvbnN0IGNyZWF0ZVByaXNtYUNsaWVudCA9ICgpID0+IHtcclxuICBpZiAoaXNTdGF0aWNHZW5lcmF0aW9uKSB7XHJcbiAgICBjb25zb2xlLmxvZygnU3RhdGljIGdlbmVyYXRpb24gZGV0ZWN0ZWQsIHVzaW5nIG1vY2sgZGF0YWJhc2UgY2xpZW50Jyk7XHJcbiAgICBcclxuICAgIC8vIFJldHVybiBhIG1vY2sgUHJpc21hIGNsaWVudCBmb3Igc3RhdGljIGdlbmVyYXRpb25cclxuICAgIHJldHVybiBuZXcgUHJveHkoe30gYXMgUHJpc21hQ2xpZW50LCB7XHJcbiAgICAgIGdldDogKHRhcmdldCwgcHJvcCkgPT4ge1xyXG4gICAgICAgIGlmIChwcm9wID09PSAnJGNvbm5lY3QnIHx8IHByb3AgPT09ICckZGlzY29ubmVjdCcpIHtcclxuICAgICAgICAgIHJldHVybiBhc3luYyAoKSA9PiB7IH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENyZWF0ZSBhIGRlZXBlciBwcm94eSBmb3IgbWV0aG9kIGNoYWluc1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAvLyBSZXR1cm4gYSBjaGFpbmFibGUgcHJveHkgdGhhdCByZXNvbHZlcyB0byBlbXB0eSByZXN1bHRzXHJcbiAgICAgICAgICByZXR1cm4gbmV3IFByb3h5KHt9IGFzIGFueSwge1xyXG4gICAgICAgICAgICBnZXQ6ICgpID0+ICgpID0+IFByb21pc2UucmVzb2x2ZShbXSksXHJcbiAgICAgICAgICAgIGFwcGx5OiAoKSA9PiBQcm9taXNlLnJlc29sdmUoW10pXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIC8vIFVzZSBhIHJlYWwgUHJpc21hIGNsaWVudCBmb3IgcnVudGltZVxyXG4gICAgY29uc29sZS5sb2coJ0NyZWF0aW5nIFByaXNtYSBjbGllbnQgZm9yIHJ1bnRpbWUgd2l0aCBEQVRBQkFTRV9VUkw6JywgXHJcbiAgICAgIHByb2Nlc3MuZW52LkRBVEFCQVNFX1VSTCA/IFxyXG4gICAgICAgIHByb2Nlc3MuZW52LkRBVEFCQVNFX1VSTC5zdWJzdHJpbmcoMCwgcHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMLmluZGV4T2YoJ0AnKSkgKyAnKioqKicgOiBcclxuICAgICAgICAndW5kZWZpbmVkJyk7XHJcbiAgICBcclxuICAgIHJldHVybiBuZXcgUHJpc21hQ2xpZW50KGNvbm5lY3Rpb25PcHRpb25zKTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBQcmlzbWEgY2xpZW50OicsIGUpO1xyXG4gICAgdGhyb3cgZTtcclxuICB9XHJcbn07XHJcblxyXG4vLyBDcmVhdGUgb3IgcmV1c2UgdGhlIHByaXNtYSBjbGllbnRcclxuZXhwb3J0IGNvbnN0IHByaXNtYSA9IGdsb2JhbC5wcmlzbWEgfHwgY3JlYXRlUHJpc21hQ2xpZW50KCk7XHJcblxyXG4vLyBPbmx5IHNldCB0aGUgZ2xvYmFsIHByaXNtYSBjbGllbnQgaW4gZGV2ZWxvcG1lbnQgdG8gcHJldmVudCBtZW1vcnkgbGVha3NcclxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIGdsb2JhbC5wcmlzbWEgPSBwcmlzbWE7XHJcblxyXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gY2hlY2sgZGF0YWJhc2UgY29ubmVjdGlvblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2hlY2tEYXRhYmFzZUNvbm5lY3Rpb24oKSB7XHJcbiAgdHJ5IHtcclxuICAgIGlmIChpc1N0YXRpY0dlbmVyYXRpb24pIHtcclxuICAgICAgY29uc29sZS5sb2coJ1N0YXRpYyBnZW5lcmF0aW9uIGRldGVjdGVkLCBza2lwcGluZyBkYXRhYmFzZSBjb25uZWN0aW9uIGNoZWNrJyk7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnQ2hlY2tpbmcgZGF0YWJhc2UgY29ubmVjdGlvbi4uLicpO1xyXG4gICAgYXdhaXQgcHJpc21hLiRjb25uZWN0KCk7XHJcbiAgICBjb25zb2xlLmxvZygnRGF0YWJhc2UgY29ubmVjdGlvbiBzdWNjZXNzZnVsJyk7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRGF0YWJhc2UgY29ubmVjdGlvbiBlcnJvcjonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG59XHJcblxyXG4vLyBIZWxwZXIgdG8gZ3JhY2VmdWxseSBoYW5kbGUgZGF0YWJhc2Ugb3BlcmF0aW9ucyBpbiBBUEkgcm91dGVzXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB3aXRoRGF0YWJhc2U8VD4ob3BlcmF0aW9uOiAoKSA9PiBQcm9taXNlPFQ+LCBmYWxsYmFjazogVCk6IFByb21pc2U8VD4ge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBJZiB3ZSdyZSBpbiBhIHN0YXRpYyBnZW5lcmF0aW9uIGNvbnRleHQsIHJldHVybiBmYWxsYmFja1xyXG4gICAgaWYgKGlzU3RhdGljR2VuZXJhdGlvbikge1xyXG4gICAgICBjb25zb2xlLmxvZygnU3RhdGljIGdlbmVyYXRpb24gZGV0ZWN0ZWQsIHJldHVybmluZyBmYWxsYmFjayBkYXRhJyk7XHJcbiAgICAgIHJldHVybiBmYWxsYmFjaztcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gSWYgd2UncmUgaW4gYSBydW50aW1lIGNvbnRleHQsIHRyeSB0aGUgb3BlcmF0aW9uXHJcbiAgICByZXR1cm4gYXdhaXQgb3BlcmF0aW9uKCk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0RhdGFiYXNlIG9wZXJhdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIGZhbGxiYWNrO1xyXG4gIH1cclxufSAiXSwibmFtZXMiOlsiUHJpc21hQ2xpZW50IiwiaXNWZXJjZWxCdWlsZCIsInByb2Nlc3MiLCJlbnYiLCJWRVJDRUwiLCJlIiwiaXNTdGF0aWNHZW5lcmF0aW9uIiwiTkVYVF9QSEFTRSIsIk5FWFRfUFVCTElDX1ZFUkNFTF9FTlYiLCJWRVJDRUxfRU5WIiwicHJvZENvbmZpZyIsImxvZyIsImVycm9yRm9ybWF0IiwiZGV2Q29uZmlnIiwiY29ubmVjdGlvbk9wdGlvbnMiLCJjcmVhdGVQcmlzbWFDbGllbnQiLCJjb25zb2xlIiwiUHJveHkiLCJnZXQiLCJ0YXJnZXQiLCJwcm9wIiwiUHJvbWlzZSIsInJlc29sdmUiLCJhcHBseSIsIkRBVEFCQVNFX1VSTCIsInN1YnN0cmluZyIsImluZGV4T2YiLCJlcnJvciIsInByaXNtYSIsImdsb2JhbCIsImNoZWNrRGF0YWJhc2VDb25uZWN0aW9uIiwiJGNvbm5lY3QiLCJ3aXRoRGF0YWJhc2UiLCJvcGVyYXRpb24iLCJmYWxsYmFjayJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/ms","vendor-chunks/semver","vendor-chunks/jsonwebtoken","vendor-chunks/jws","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/bcryptjs","vendor-chunks/safe-buffer","vendor-chunks/lodash.once","vendor-chunks/lodash.isstring","vendor-chunks/lodash.isplainobject","vendor-chunks/lodash.isnumber","vendor-chunks/lodash.isinteger","vendor-chunks/lodash.isboolean","vendor-chunks/lodash.includes","vendor-chunks/jwa","vendor-chunks/buffer-equal-constant-time"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Fsignin%2Froute&page=%2Fapi%2Fauth%2Fsignin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Fsignin%2Froute.ts&appDir=C%3A%5CPliv%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CPliv&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();